MP2COD 3.94, COFF to COD File Converter
Copyright (c) 2005 Microchip Technology Inc.
Listing File Generated: Tue Nov 24 19:05:25 2009


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           ;ModMovimiento.asm                                                               C:\Sofia\Programa PIC.asm
                                           ;PROGRAMA PARA CONTROLAR EL MOVIMIENTO DEL CARRO                                 C:\Sofia\Programa PIC.asm
                                           ;**********************************************************                      C:\Sofia\Programa PIC.asm
                                           ;*  Microchip Technology Incorporated                                            C:\Sofia\Programa PIC.asm
                                           ;*  PIC 16F877A                                                                  C:\Sofia\Programa PIC.asm
                                           ;**********************************************************                      C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
                                           ; Include file, change directory if needed                                       C:\Sofia\Programa PIC.asm
                                           	include "p16f877a.inc"                                                          C:\Sofia\Programa PIC.asm
                                                   LIST                                                                     C:\Archivos de programa\Microchip\MPASM Suite\p16f877a.inc
                                           ; P16F877A.INC  Standard Header File, Version 1.00    Microchip Technology, Inc. C:\Archivos de programa\Microchip\MPASM Suite\p16f877a.inc
                                                   LIST                                                                     C:\Archivos de programa\Microchip\MPASM Suite\p16f877a.inc
                                           	list p=16f877a                                                                  C:\Sofia\Programa PIC.asm
                                           	ERRORLEVEL 1,-302                                                               C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           	ORG 0x00                                                                        C:\Sofia\Programa PIC.asm
000000   2825     GOTO      0x25           	goto 	Main                                                                      C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           	ORG 0x04                                                                        C:\Sofia\Programa PIC.asm
000004   285b     GOTO      0x5b           	goto 	AtencionInterrupcion                                                      C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           	ORG 0x20                                                                        C:\Sofia\Programa PIC.asm
                                           CONT                                                                             C:\Sofia\Programa PIC.asm
                                           	ORG 0x21                                                                        C:\Sofia\Programa PIC.asm
                                           PASOS                                                                            C:\Sofia\Programa PIC.asm
                                           	ORG 0x22                                                                        C:\Sofia\Programa PIC.asm
                                           TEMP							;Variable temporal                                                    C:\Sofia\Programa PIC.asm
                                           	ORG 0x23                                                                        C:\Sofia\Programa PIC.asm
                                           TipoInt							;Variable auxiliar para grabar el tipo de interrupción             C:\Sofia\Programa PIC.asm
                                           	ORG 0x24                                                                        C:\Sofia\Programa PIC.asm
                                           Aux                                                                              C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           	ORG 0x25                                                                        C:\Sofia\Programa PIC.asm
                                           Main                                                                             C:\Sofia\Programa PIC.asm
000025   2039     CALL      0x39           	call 	Inicializacion                                                            C:\Sofia\Programa PIC.asm
000026   0063     TRIS      0x3            	sleep                                                                           C:\Sofia\Programa PIC.asm
000027   0000     NOP                      	nop                                                                             C:\Sofia\Programa PIC.asm
                                           ;	goto 	AtencionInterrupcion	;SOLO PARA DEBUG                                    C:\Sofia\Programa PIC.asm
000028   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000029   018b     CLRF      0xb            	clrf	INTCON				;Deshabilito interrupciones                                      C:\Sofia\Programa PIC.asm
00002a   1823     BTFSC     0x23,0x0       	btfsc	TipoInt,0			;Me fijo si me enviaron Adelante                              C:\Sofia\Programa PIC.asm
00002b   28ae     GOTO      0xae           	goto	SubrutinaAdelante	;Si, entonces ejecuto SubrutinaAdelante                  C:\Sofia\Programa PIC.asm
00002c   18a3     BTFSC     0x23,0x1       	btfsc	TipoInt,1			;No, entonces me fijo si me enviaron Atrás                    C:\Sofia\Programa PIC.asm
00002d   28ba     GOTO      0xba           	goto	SubrutinaAtras		;Si, entonces ejecuto SubrutinaAtras                       C:\Sofia\Programa PIC.asm
00002e   1923     BTFSC     0x23,0x2       	btfsc	TipoInt,2			;No, entonces me fijo si me enviaron Derecha                  C:\Sofia\Programa PIC.asm
00002f   28da     GOTO      0xda           	goto	SubrutinaDerecha	;Si, entonces ejecuto SubrutinaDerecha                    C:\Sofia\Programa PIC.asm
000030   19a3     BTFSC     0x23,0x3       	btfsc	TipoInt,3			;No, entonces me fijo si me enviaron Izquierda                C:\Sofia\Programa PIC.asm
000031   28f3     GOTO      0xf3           	goto	SubrutinaIzquierda	;Si, entonces ejecuto SubrutinaIzquierda                C:\Sofia\Programa PIC.asm
000032   1a23     BTFSC     0x23,0x4       	btfsc	TipoInt,4			;No, entonces me fijo si se detectó un obstáculo en la derecha C:\Sofia\Programa PIC.asm
000033   292c     GOTO      0x12c          	goto	SubrutinaObstDer	;Si, entonces ejecuto SubrutinaObstDer                    C:\Sofia\Programa PIC.asm
000034   1aa3     BTFSC     0x23,0x5       	btfsc	TipoInt,5			;No, entonces me fijo si se detectó un obstáculo en la izquierda C:\Sofia\Programa PIC.asm
000035   2933     GOTO      0x133          	goto	SubrutinaObstIzq	;Si, entonces ejecuto SubrutinaObstIzq                    C:\Sofia\Programa PIC.asm
000036   1b23     BTFSC     0x23,0x6       	btfsc	TipoInt,6			;No, entonces me fijo si se detectó un sonido                 C:\Sofia\Programa PIC.asm
000037   293a     GOTO      0x13a          	goto	SubrutinaSonido		;Si, entonces ejecuto SubrutinaSonido                     C:\Sofia\Programa PIC.asm
000038   2825     GOTO      0x25           	goto	Main				;No, entonces vuelvo a Main                                        C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           ;Loop			;SOLO PARA DEBUG                                                         C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           ;	call	Adelante                                                                  C:\Sofia\Programa PIC.asm
                                           ;	call	Espera                                                                    C:\Sofia\Programa PIC.asm
                                           ;	call	Derecha                                                                   C:\Sofia\Programa PIC.asm
                                           ;	call	Espera                                                                    C:\Sofia\Programa PIC.asm
                                           ;	call	Izquierda                                                                 C:\Sofia\Programa PIC.asm
                                           ;	call	Espera                                                                    C:\Sofia\Programa PIC.asm
                                           ;	call	Detener                                                                   C:\Sofia\Programa PIC.asm
                                           ;	call	Espera                                                                    C:\Sofia\Programa PIC.asm
                                           ;	call	Atras                                                                     C:\Sofia\Programa PIC.asm
                                           ;	call	Espera                                                                    C:\Sofia\Programa PIC.asm
                                           ;	call	Detener                                                                   C:\Sofia\Programa PIC.asm
                                           ;	call	LiberarMotorTraccion                                                      C:\Sofia\Programa PIC.asm
                                           ;	goto 	Loop                                                                     C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
                                           Inicializacion                                                                   C:\Sofia\Programa PIC.asm
000039   2150     CALL      0x150          	call	banco1                                                                     C:\Sofia\Programa PIC.asm
00003a   30ff     MOVLW     0xff           	movlw	b'11111111'                                                               C:\Sofia\Programa PIC.asm
00003b   0085     MOVWF     0x5            	movwf 	TRISA 		;Configuramos el puerto A como entrada (Por ahora no lo vamos a usar) C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
00003c   3071     MOVLW     0x71           	movlw 	b'01110001' 	;Configuramos los bits RB0 y RB4:RB6 como entradas y el resto como salidas, C:\Sofia\Programa PIC.asm
00003d   0086     MOVWF     0x6            	movwf 	TRISB 			;vamos a utilizar las entradas para la interrupción para recibir directivas (RB0) y para los sensores (RB4:RB6) C:\Sofia\Programa PIC.asm
                                           							;y las salidas RB1 y RB2 para volver a poner en cero los flip-flops asociados a los sensores de obstáculos. C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
00003e   3000     MOVLW     0x0            	movlw 	b'00000000'                                                              C:\Sofia\Programa PIC.asm
00003f   0087     MOVWF     0x7            	movwf 	TRISC 		;Configuramos el puerto C como salida, lo utilizaremos para manejar los motores. C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
000040   300f     MOVLW     0xf            	movlw	b'00001111'                                                               C:\Sofia\Programa PIC.asm
000041   0088     MOVWF     0x8            	movwf	TRISD		;Configuramos los bits RD0:RD3 como entrada (directivas de movimiento) y el resto como salidas (los bits RD5:RD7 se utilizan  C:\Sofia\Programa PIC.asm
                                           						;para reportarle a la placa condiciones positivas en los sensores).        C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
000042   214d     CALL      0x14d          	call 	banco0		;Nos posicionamos en el banco 0                                   C:\Sofia\Programa PIC.asm
000043   018b     CLRF      0xb            	clrf 	INTCON		;Deshabilitamos todas las interrupciones                          C:\Sofia\Programa PIC.asm
000044   0188     CLRF      0x8            	clrf	PORTD		;Borra el puerto D                                                  C:\Sofia\Programa PIC.asm
000045   0187     CLRF      0x7            	clrf	PORTC		;Borra el puerto C                                                  C:\Sofia\Programa PIC.asm
000046   1486     BSF       0x6,0x1        	bsf		PORTB,1		;Restea flip-flop asociado al sensor derecho                      C:\Sofia\Programa PIC.asm
000047   1506     BSF       0x6,0x2        	bsf		PORTB,2		;Restea flip-flop asociado al sensor izquierdo                    C:\Sofia\Programa PIC.asm
000048   0186     CLRF      0x6            	clrf	PORTB		;Borra el puerto B                                                  C:\Sofia\Programa PIC.asm
000049   0185     CLRF      0x5            	clrf	PORTA		;Borra el puerto A	                                                 C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
00004a   01a0     CLRF      0x20           	clrf	CONT		;Pongo en cero el contador                                           C:\Sofia\Programa PIC.asm
00004b   01a2     CLRF      0x22           	clrf	TEMP		;Pongo en cero la variable temporal                                  C:\Sofia\Programa PIC.asm
00004c   01a4     CLRF      0x24           	clrf	Aux			;Pongo en cero la variable Aux                                       C:\Sofia\Programa PIC.asm
00004d   01a3     CLRF      0x23           	clrf	TipoInt		;Pongo en cero la variable para el tipo de interrupción           C:\Sofia\Programa PIC.asm
00004e   300f     MOVLW     0xf            	movlw	b'00001111'                                                               C:\Sofia\Programa PIC.asm
00004f   00a1     MOVWF     0x21           	movwf	PASOS		;Seteo en 3 la cantidad de pasos (Es necesario ajustarlo)          C:\Sofia\Programa PIC.asm
000050   2150     CALL      0x150          	call	banco1                                                                     C:\Sofia\Programa PIC.asm
000051   3006     MOVLW     0x6            	movlw 	0x06                                                                     C:\Sofia\Programa PIC.asm
000052   009f     MOVWF     0x1f           	movwf 	ADCON1 		;set puerto analógico como digital                              C:\Sofia\Programa PIC.asm
000053   1701     BSF       0x1,0x6        	bsf		OPTION_REG,6	;Configuramos flanco ascendente para la interrupción en RB0.	 C:\Sofia\Programa PIC.asm
                                           ;	bcf		OPTION_REG,7	;Habilitamos pull-ups                                        C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
000054   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000055   0186     CLRF      0x6            	clrf	PORTB			;Limpio el puerto B                                                C:\Sofia\Programa PIC.asm
000056   118b     BCF       0xb,0x3        	bcf 	INTCON,RBIE		;Deshabilitamos la interrupción al cambiar RB4:RB7            C:\Sofia\Programa PIC.asm
000057   0806     MOVF      0x6,0x0        	movf 	PORTB,W 		;Leemos el puerto B                                             C:\Sofia\Programa PIC.asm
000058   3098     MOVLW     0x98           	movlw	b'10011000'		;Habilitamos interrupciones globales, interrupción externa de RB0 e interrupción RB port change C:\Sofia\Programa PIC.asm
000059   008b     MOVWF     0xb            	movwf	INTCON			;y limpiamos los flags                                           C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
00005a   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           AtencionInterrupcion                                                             C:\Sofia\Programa PIC.asm
00005b   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
00005c   138b     BCF       0xb,0x7        	bcf		INTCON,GIE			;Deshabilito interrupciones globales                          C:\Sofia\Programa PIC.asm
00005d   180b     BTFSC     0xb,0x0        	btfsc 	INTCON,RBIF 		;La interrupción fue por un cambio en RB4:RB7?             C:\Sofia\Programa PIC.asm
00005e   2863     GOTO      0x63           	goto 	AtencionSensores 	;Si, entonces voy a la rutina de atención correspondiente  C:\Sofia\Programa PIC.asm
00005f   188b     BTFSC     0xb,0x1        	btfsc	INTCON,INTF 		;No, entonces me fijo si la interrupción fue porque la placa BB va a enviar una directiva. C:\Sofia\Programa PIC.asm
000060   2889     GOTO      0x89           	goto	RecibirDirectiva	;Si, entonces veo qué directiva me envió la placa         C:\Sofia\Programa PIC.asm
000061   138b     BCF       0xb,0x7        	bcf		INTCON,GIE			;No, entonces vuelvo a habilitar interrupciones globales      C:\Sofia\Programa PIC.asm
000062   0009     RETFIE                   	retfie						;y regreso a donde estaba antes de la interrupción                  C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           AtencionSensores                                                                 C:\Sofia\Programa PIC.asm
000063   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000064   118b     BCF       0xb,0x3        	bcf 	INTCON,RBIE ;Deshabilito interrupción RB port change                       C:\Sofia\Programa PIC.asm
                                           ;	movf	PORTB,W		;Leo el puerto B                                                 C:\Sofia\Programa PIC.asm
000065   100b     BCF       0xb,0x0        	bcf 	INTCON,RBIF ;Pongo en cero el flag correspondiente a la interrupción RB port change C:\Sofia\Programa PIC.asm
                                           ;	call 	delay16 	;do de-bounce for 16mSecs  VER SI ES NECESARIO                  C:\Sofia\Programa PIC.asm
000066   0806     MOVF      0x6,0x0        	movf	PORTB,W 	;Vuelvo a leer el puerto B                                        C:\Sofia\Programa PIC.asm
000067   00a2     MOVWF     0x22           	movwf	TEMP		;Pongo lo leído en la variable temporal                             C:\Sofia\Programa PIC.asm
000068   1a06     BTFSC     0x6,0x4        	btfsc	PORTB,4		;Me fijo si fue el Sensor de obstáculos Derecho                  C:\Sofia\Programa PIC.asm
000069   287d     GOTO      0x7d           	goto	Tipo4		;Si, entonces voy a Tipo4                                           C:\Sofia\Programa PIC.asm
00006a   1a86     BTFSC     0x6,0x5        	btfsc	PORTB,5		;No, entonces me fijo si fue el Sensor de obstáculos Izquierdo   C:\Sofia\Programa PIC.asm
00006b   2881     GOTO      0x81           	goto	Tipo5		;Si, entonces voy a Tipo5                                           C:\Sofia\Programa PIC.asm
00006c   1b06     BTFSC     0x6,0x6        	btfsc	PORTB,6		;No, entonces me fijo si fue el Sensor de Sonido                 C:\Sofia\Programa PIC.asm
00006d   2885     GOTO      0x85           	goto	Tipo6		;Si, entonces voy a Tipo6                                           C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
00006e   158b     BSF       0xb,0x3        	bsf		INTCON,RBIE	;No, entonces vuelvo a habilitar la interrupción RB port change, C:\Sofia\Programa PIC.asm
00006f   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;vuelvo a habilitar las interrupciones globales                 C:\Sofia\Programa PIC.asm
000070   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           delay16                                                                          C:\Sofia\Programa PIC.asm
000071   2150     CALL      0x150          	call	banco1                                                                     C:\Sofia\Programa PIC.asm
000072   3007     MOVLW     0x7            	movlw 	b'00000111' ;fosc/256 --> TMR0                                           C:\Sofia\Programa PIC.asm
000073   0081     MOVWF     0x1            	movwf 	OPTION_REG ; /                                                           C:\Sofia\Programa PIC.asm
000074   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000075   0181     CLRF      0x1            	clrf 	TMR0                                                                      C:\Sofia\Programa PIC.asm
000076   110b     BCF       0xb,0x2        	bcf 	INTCON,T0IF ;clear flag                                                    C:\Sofia\Programa PIC.asm
000077   168b     BSF       0xb,0x5        	bsf 	INTCON,T0IE ;enable mask                                                   C:\Sofia\Programa PIC.asm
                                           CheckAgain                                                                       C:\Sofia\Programa PIC.asm
000078   1d0b     BTFSS     0xb,0x2        	btfss 	INTCON,T0IF ;timer overflowed?                                           C:\Sofia\Programa PIC.asm
000079   2878     GOTO      0x78           	goto 	CheckAgain ;no check again                                                C:\Sofia\Programa PIC.asm
00007a   128b     BCF       0xb,0x5        	bcf 	INTCON,T0IE ;else clear mask                                               C:\Sofia\Programa PIC.asm
00007b   110b     BCF       0xb,0x2        	bcf 	INTCON,T0IF ;clear flag                                                    C:\Sofia\Programa PIC.asm
00007c   0008     RETURN                   	return	                                                                         C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Tipo4                                                                            C:\Sofia\Programa PIC.asm
00007d   1623     BSF       0x23,0x4       	bsf		TipoInt,4	;Seteo el flag 4 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
00007e   158b     BSF       0xb,0x3        	bsf		INTCON,RBIE	;Vuelvo a habilitar la interrupicón RB port change             C:\Sofia\Programa PIC.asm
00007f   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
000080   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
                                           Tipo5                                                                            C:\Sofia\Programa PIC.asm
000081   16a3     BSF       0x23,0x5       	bsf		TipoInt,5	;Seteo el flag 5 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
000082   158b     BSF       0xb,0x3        	bsf		INTCON,RBIE	;Vuelvo a habilitar la interrupicón RB port change             C:\Sofia\Programa PIC.asm
000083   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
000084   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Tipo6                                                                            C:\Sofia\Programa PIC.asm
000085   1723     BSF       0x23,0x6       	bsf		TipoInt,6	;Seteo el flag 6 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
000086   158b     BSF       0xb,0x3        	bsf		INTCON,RBIE	;Vuelvo a habilitar la interrupicón RB port change             C:\Sofia\Programa PIC.asm
000087   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
000088   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           RecibirDirectiva                                                                 C:\Sofia\Programa PIC.asm
000089   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
00008a   120b     BCF       0xb,0x4        	bcf 	INTCON,INTE ;Deshabilito interrupción externa de RB0                       C:\Sofia\Programa PIC.asm
00008b   0806     MOVF      0x6,0x0        	movf	PORTB,W		;Leo el puerto B                                                  C:\Sofia\Programa PIC.asm
00008c   00a2     MOVWF     0x22           	movwf	TEMP		;Pongo lo leído en la variable temporal                             C:\Sofia\Programa PIC.asm
00008d   108b     BCF       0xb,0x1        	bcf 	INTCON,INTF ;Pongo en cero el flag correspondiente a la interrupción externa de RB0 C:\Sofia\Programa PIC.asm
00008e   1808     BTFSC     0x8,0x0        	btfsc	PORTD,0		;Testeo si me enviaron Adelante                                  C:\Sofia\Programa PIC.asm
00008f   2899     GOTO      0x99           	goto	Tipo0		;Si, entonces voy a Tipo0                                           C:\Sofia\Programa PIC.asm
000090   1888     BTFSC     0x8,0x1        	btfsc	PORTD,1		;No, entonces testeo si me enviaron Atrás                        C:\Sofia\Programa PIC.asm
000091   289d     GOTO      0x9d           	goto	Tipo1		;Si, entonces voy a Tipo1                                           C:\Sofia\Programa PIC.asm
000092   1908     BTFSC     0x8,0x2        	btfsc	PORTD,2		;No, entonces testeo si me enviaron Derecha                      C:\Sofia\Programa PIC.asm
000093   28a1     GOTO      0xa1           	goto	Tipo2		;Si, entonces voy a Tipo2                                           C:\Sofia\Programa PIC.asm
000094   1988     BTFSC     0x8,0x3        	btfsc	PORTD,3		;No, entonces testeo si me enviaron Izquierda                    C:\Sofia\Programa PIC.asm
000095   28a5     GOTO      0xa5           	goto	Tipo3		;Si, entonces voy a Tipo3                                           C:\Sofia\Programa PIC.asm
000096   160b     BSF       0xb,0x4        	bsf		INTCON,INTE	;No, entonces vuelvo a habilitar la interrupción externa de RB0, C:\Sofia\Programa PIC.asm
000097   138b     BCF       0xb,0x7        	bcf		INTCON,GIE	;vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
000098   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Tipo0                                                                            C:\Sofia\Programa PIC.asm
000099   1423     BSF       0x23,0x0       	bsf		TipoInt,0	;Seteo el flag 0 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
00009a   160b     BSF       0xb,0x4        	bsf		INTCON,INTE	;Vuelvo a habilitar la interrupicón externa de RB0             C:\Sofia\Programa PIC.asm
00009b   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
00009c   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Tipo1                                                                            C:\Sofia\Programa PIC.asm
00009d   14a3     BSF       0x23,0x1       	bsf		TipoInt,1	;Seteo el flag 1 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
00009e   160b     BSF       0xb,0x4        	bsf		INTCON,INTE	;Vuelvo a habilitar la interrupicón externa de RB0             C:\Sofia\Programa PIC.asm
00009f   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
0000a0   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Tipo2                                                                            C:\Sofia\Programa PIC.asm
0000a1   1523     BSF       0x23,0x2       	bsf		TipoInt,2	;Seteo el flag 2 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
0000a2   160b     BSF       0xb,0x4        	bsf		INTCON,INTE	;Vuelvo a habilitar la interrupicón externa de RB0             C:\Sofia\Programa PIC.asm
0000a3   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
0000a4   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción                    C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Tipo3                                                                            C:\Sofia\Programa PIC.asm
0000a5   15a3     BSF       0x23,0x3       	bsf		TipoInt,3	;Seteo el flag 3 de la variable TipoInt                          C:\Sofia\Programa PIC.asm
0000a6   160b     BSF       0xb,0x4        	bsf		INTCON,INTE	;Vuelvo a habilitar la interrupicón externa de RB0             C:\Sofia\Programa PIC.asm
0000a7   178b     BSF       0xb,0x7        	bsf		INTCON,GIE	;Vuelvo a habilitar interrupciones globales                     C:\Sofia\Programa PIC.asm
0000a8   0009     RETFIE                   	retfie				;y regreso a donde estaba antes de la interrupción	                   C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           ;****************************************************************************************************************************** C:\Sofia\Programa PIC.asm
                                           ;Control del motor de Continua (Tracción)                                        C:\Sofia\Programa PIC.asm
                                           ;                                                                                C:\Sofia\Programa PIC.asm
                                           ;Para controlas el motor de continua se utilizarán dos canales de un driver L293D. C:\Sofia\Programa PIC.asm
                                           ;Se conectarán 3 pines del puerto B: RC0, RC1 y RC2 a los pines Enable1, Input1 e Input2 del L293D respectivamente. C:\Sofia\Programa PIC.asm
                                           ;Cuando RC0 esté en 1 el puente 1 del L293D estará habilitado, en caso contrario dicho puente quedará deshabilitado C:\Sofia\Programa PIC.asm
                                           ;por lo que el motor quedará libre.                                              C:\Sofia\Programa PIC.asm
                                           ;Estando el puente 1 del L293D habilitado: si RC1 = 1 y RC2 = 0 el motor girará en un sentido (hacia adelante) C:\Sofia\Programa PIC.asm
                                           ;si RC1 = 0 y RC2 = 1 el motor girará en sentido contrario (hacia atrás) y si RC1 = RC2 el motor estará detenido. C:\Sofia\Programa PIC.asm
                                           ;******************************************************************************************************************************** C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Adelante                                                                         C:\Sofia\Programa PIC.asm
0000a9   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000aa   1407     BSF       0x7,0x0        	bsf		PORTC,0		;Habilitamos canales del L293D (Tomamos el control del motor)     C:\Sofia\Programa PIC.asm
0000ab   1487     BSF       0x7,0x1        	bsf		PORTC,1		;Seteamos el bit RC1                                              C:\Sofia\Programa PIC.asm
0000ac   1107     BCF       0x7,0x2        	bcf		PORTC,2		;Ponemos en cero el bit RC2                                       C:\Sofia\Programa PIC.asm
0000ad   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                           	                                                                                C:\Sofia\Programa PIC.asm
                                           SubrutinaAdelante                                                                C:\Sofia\Programa PIC.asm
0000ae   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000af   1023     BCF       0x23,0x0       	bcf		TipoInt,0	;Limpio el flag de TipoInt                                       C:\Sofia\Programa PIC.asm
0000b0   20a9     CALL      0xa9           	call	Adelante                                                                   C:\Sofia\Programa PIC.asm
0000b1   2111     CALL      0x111          	call	Espera                                                                     C:\Sofia\Programa PIC.asm
0000b2   20c1     CALL      0xc1           	call	Detener                                                                    C:\Sofia\Programa PIC.asm
0000b3   20c5     CALL      0xc5           	call	LiberarMotorTraccion	                                                      C:\Sofia\Programa PIC.asm
0000b4   2825     GOTO      0x25           	goto	Main		                                                                     C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Atras                                                                            C:\Sofia\Programa PIC.asm
0000b5   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000b6   1407     BSF       0x7,0x0        	bsf		PORTC,0		;Habilitamos canales (Tomamos el control del motor)               C:\Sofia\Programa PIC.asm
0000b7   1087     BCF       0x7,0x1        	bcf		PORTC,1		;Ponemos en cero el bit RC1                                       C:\Sofia\Programa PIC.asm
0000b8   1507     BSF       0x7,0x2        	bsf		PORTC,2		;Seteamos el bit RC2                                              C:\Sofia\Programa PIC.asm
0000b9   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           SubrutinaAtras                                                                   C:\Sofia\Programa PIC.asm
0000ba   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000bb   10a3     BCF       0x23,0x1       	bcf		TipoInt,1	;Limpio el flag de TipoInt                                       C:\Sofia\Programa PIC.asm
0000bc   20b5     CALL      0xb5           	call	Atras                                                                      C:\Sofia\Programa PIC.asm
0000bd   2111     CALL      0x111          	call	Espera                                                                     C:\Sofia\Programa PIC.asm
0000be   20c1     CALL      0xc1           	call	Detener                                                                    C:\Sofia\Programa PIC.asm
0000bf   20c5     CALL      0xc5           	call	LiberarMotorTraccion                                                       C:\Sofia\Programa PIC.asm
0000c0   2825     GOTO      0x25           	goto	Main                                                                       C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Detener                                                                          C:\Sofia\Programa PIC.asm
0000c1   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000c2   1087     BCF       0x7,0x1        	bcf		PORTC,1		;Ponemos en cero el bit RC1                                       C:\Sofia\Programa PIC.asm
0000c3   1107     BCF       0x7,0x2        	bcf		PORTC,2		;Ponemos en cero el bit RC2                                       C:\Sofia\Programa PIC.asm
0000c4   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           LiberarMotorTraccion                                                             C:\Sofia\Programa PIC.asm
0000c5   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000c6   1007     BCF       0x7,0x0        	bcf		PORTC,0		;Deshabilitamos canales del L293B (Liberamos el motor)            C:\Sofia\Programa PIC.asm
0000c7   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           ;************************************************************************************************************************** C:\Sofia\Programa PIC.asm
                                           ;Control del motor Paso a Paso (Dirección)                                       C:\Sofia\Programa PIC.asm
                                           ;                                                                                C:\Sofia\Programa PIC.asm
                                           ;Para controlar la dirección del carro se utilizará un motor PaP bipolar. Para controlar este tipo de motores es necesario C:\Sofia\Programa PIC.asm
                                           ;invertir las polaridades de los terminales de las bobinas en una determinada secuencia para lograr un giro en un sentido y C:\Sofia\Programa PIC.asm
                                           ;en secuencia opuesta para que gire en el otro sentido.                          C:\Sofia\Programa PIC.asm
                                           ;Se utilizará un driver L293D.                                                   C:\Sofia\Programa PIC.asm
                                           ;Se conectará el pin RC3 a los pines Enable1 y Enable2 del L293D. Con el bit RC3 se habilitarán/deshabilitarán los puentes del L293D. C:\Sofia\Programa PIC.asm
                                           ;Se conectará el pin RC4 al pin Input1 del L293D, el pin RC5 al pin Input2 del L293D, el pin RC6 al pin Input3 del L293D C:\Sofia\Programa PIC.asm
                                           ;y el pin RC7 al pin Input4 del L293D.                                           C:\Sofia\Programa PIC.asm
                                           ;Para controlar el motor se debe tener en cuenta la siguiente tabla:             C:\Sofia\Programa PIC.asm
                                           ;                                                                                C:\Sofia\Programa PIC.asm
                                           ;Num de Pasos		RC4			RC5			RC6			RC7                                             C:\Sofia\Programa PIC.asm
                                           ;Paso 1				+Vcc		GND			+Vcc		GND                                                 C:\Sofia\Programa PIC.asm
                                           ;Paso 2				+Vcc		GND			GND			+Vcc                                                C:\Sofia\Programa PIC.asm
                                           ;Paso 3 			GND			+Vcc		GND			+Vcc                                                C:\Sofia\Programa PIC.asm
                                           ;Paso 4				GND			+Vcc		+Vcc		GND                                                 C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Derecha                                                                          C:\Sofia\Programa PIC.asm
0000c8   1587     BSF       0x7,0x3        	bsf		PORTC,3		;Tomamos el control del motor                                     C:\Sofia\Programa PIC.asm
0000c9   20fd     CALL      0xfd           	call	Paso1                                                                      C:\Sofia\Programa PIC.asm
0000ca   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000cb   2102     CALL      0x102          	call	Paso2                                                                      C:\Sofia\Programa PIC.asm
0000cc   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000cd   2107     CALL      0x107          	call	Paso3                                                                      C:\Sofia\Programa PIC.asm
0000ce   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000cf   210c     CALL      0x10c          	call	Paso4                                                                      C:\Sofia\Programa PIC.asm
0000d0   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000d1   0aa0     INCF      0x20,0x1       	incf	CONT,1			;Incrementamos el contador                                        C:\Sofia\Programa PIC.asm
0000d2   0821     MOVF      0x21,0x0       	movf	PASOS,0			;Escribo la cantidad de pasos en W para que la secuencia 1-2-3-4 se ejecute PASOS veces C:\Sofia\Programa PIC.asm
0000d3   0220     SUBWF     0x20,0x0       	subwf	CONT,0			;Le resto W a CONT y lo almaceno en W                            C:\Sofia\Programa PIC.asm
0000d4   1d03     BTFSS     0x3,0x2        	btfss	STATUS,2		;Me fijo si la operacion dio 0                                  C:\Sofia\Programa PIC.asm
0000d5   28c8     GOTO      0xc8           	goto 	Derecha			;Si no dio 0, CONT aún no llegó a PASOS entonces repite         C:\Sofia\Programa PIC.asm
0000d6   1187     BCF       0x7,0x3        	bcf		PORTC,3			;Si dio 0, CONT llegó a PASOS entonces libero el motor,          C:\Sofia\Programa PIC.asm
0000d7   01a0     CLRF      0x20           	clrf	CONT			;pongo en 0 el contador,                                            C:\Sofia\Programa PIC.asm
0000d8   20fa     CALL      0xfa           	call	LiberarMotorPaP	;libero el motor                                           C:\Sofia\Programa PIC.asm
0000d9   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           SubrutinaDerecha                                                                 C:\Sofia\Programa PIC.asm
0000da   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000db   1123     BCF       0x23,0x2       	bcf		TipoInt,2	;Limpio el flag de TipoInt	                                      C:\Sofia\Programa PIC.asm
0000dc   20a9     CALL      0xa9           	call 	Adelante                                                                  C:\Sofia\Programa PIC.asm
0000dd   20c8     CALL      0xc8           	call	Derecha                                                                    C:\Sofia\Programa PIC.asm
0000de   20c1     CALL      0xc1           	call	Detener                                                                    C:\Sofia\Programa PIC.asm
0000df   20c5     CALL      0xc5           	call	LiberarMotorTraccion                                                       C:\Sofia\Programa PIC.asm
0000e0   2825     GOTO      0x25           	goto	Main                                                                       C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Izquierda                                                                        C:\Sofia\Programa PIC.asm
0000e1   1587     BSF       0x7,0x3        	bsf		PORTC,3			;Tomamos el control del motor                                    C:\Sofia\Programa PIC.asm
0000e2   210c     CALL      0x10c          	call	Paso4                                                                      C:\Sofia\Programa PIC.asm
0000e3   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000e4   2107     CALL      0x107          	call	Paso3                                                                      C:\Sofia\Programa PIC.asm
0000e5   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000e6   2102     CALL      0x102          	call	Paso2                                                                      C:\Sofia\Programa PIC.asm
0000e7   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000e8   20fd     CALL      0xfd           	call	Paso1                                                                      C:\Sofia\Programa PIC.asm
0000e9   211e     CALL      0x11e          	call	EsperaPaP                                                                  C:\Sofia\Programa PIC.asm
0000ea   0aa0     INCF      0x20,0x1       	incf	CONT,1			;Incrementamos el contador                                        C:\Sofia\Programa PIC.asm
0000eb   0821     MOVF      0x21,0x0       	movf	PASOS,0			;Escribo la cantidad de pasos en W para que la secuencia 4-3-2-1 se ejecute PASOS veces C:\Sofia\Programa PIC.asm
0000ec   0220     SUBWF     0x20,0x0       	subwf	CONT,0			;Le resto W a CONT y lo almaceno en W                            C:\Sofia\Programa PIC.asm
0000ed   1d03     BTFSS     0x3,0x2        	btfss	STATUS,2		;Me fijo si la operacion dio 0                                  C:\Sofia\Programa PIC.asm
0000ee   28e1     GOTO      0xe1           	goto 	Izquierda		;Si no dio 0, CONT aún no llegó a PASOS entonces repite        C:\Sofia\Programa PIC.asm
0000ef   1187     BCF       0x7,0x3        	bcf		PORTC,3			;Si dio 0, CONT llegó a PASOS entonces libero el motor,          C:\Sofia\Programa PIC.asm
0000f0   01a0     CLRF      0x20           	clrf	CONT			;pongo en 0 el contador,                                            C:\Sofia\Programa PIC.asm
0000f1   20fa     CALL      0xfa           	call	LiberarMotorPaP	;libero el motor                                           C:\Sofia\Programa PIC.asm
0000f2   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           SubrutinaIzquierda                                                               C:\Sofia\Programa PIC.asm
0000f3   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000f4   11a3     BCF       0x23,0x3       	bcf		TipoInt,3		;Limpio el flag de TipoInt                                      C:\Sofia\Programa PIC.asm
0000f5   20a9     CALL      0xa9           	call 	Adelante                                                                  C:\Sofia\Programa PIC.asm
0000f6   20e1     CALL      0xe1           	call	Izquierda                                                                  C:\Sofia\Programa PIC.asm
0000f7   20c1     CALL      0xc1           	call	Detener                                                                    C:\Sofia\Programa PIC.asm
0000f8   20c5     CALL      0xc5           	call	LiberarMotorTraccion                                                       C:\Sofia\Programa PIC.asm
0000f9   2825     GOTO      0x25           	goto	Main                                                                       C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           LiberarMotorPaP                                                                  C:\Sofia\Programa PIC.asm
0000fa   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
0000fb   1187     BCF       0x7,0x3        	bcf		PORTC,3			;Deshabilitamos canales del L293B (Liberamos el motor)           C:\Sofia\Programa PIC.asm
0000fc   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Paso1                                                                            C:\Sofia\Programa PIC.asm
0000fd   1607     BSF       0x7,0x4        	bsf		PORTC,4                                                                    C:\Sofia\Programa PIC.asm
0000fe   1287     BCF       0x7,0x5        	bcf		PORTC,5                                                                    C:\Sofia\Programa PIC.asm
0000ff   1707     BSF       0x7,0x6        	bsf		PORTC,6                                                                    C:\Sofia\Programa PIC.asm
000100   1387     BCF       0x7,0x7        	bcf		PORTC,7                                                                    C:\Sofia\Programa PIC.asm
000101   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Paso2                                                                            C:\Sofia\Programa PIC.asm
000102   1607     BSF       0x7,0x4        	bsf		PORTC,4                                                                    C:\Sofia\Programa PIC.asm
000103   1287     BCF       0x7,0x5        	bcf		PORTC,5                                                                    C:\Sofia\Programa PIC.asm
000104   1307     BCF       0x7,0x6        	bcf		PORTC,6                                                                    C:\Sofia\Programa PIC.asm
000105   1787     BSF       0x7,0x7        	bsf		PORTC,7                                                                    C:\Sofia\Programa PIC.asm
000106   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Paso3                                                                            C:\Sofia\Programa PIC.asm
000107   1207     BCF       0x7,0x4        	bcf		PORTC,4                                                                    C:\Sofia\Programa PIC.asm
000108   1687     BSF       0x7,0x5        	bsf		PORTC,5                                                                    C:\Sofia\Programa PIC.asm
000109   1307     BCF       0x7,0x6        	bcf		PORTC,6                                                                    C:\Sofia\Programa PIC.asm
00010a   1787     BSF       0x7,0x7        	bsf		PORTC,7                                                                    C:\Sofia\Programa PIC.asm
00010b   0008     RETURN                   	return	                                                                         C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Paso4                                                                            C:\Sofia\Programa PIC.asm
00010c   1207     BCF       0x7,0x4        	bcf		PORTC,4                                                                    C:\Sofia\Programa PIC.asm
00010d   1687     BSF       0x7,0x5        	bsf		PORTC,5                                                                    C:\Sofia\Programa PIC.asm
00010e   1707     BSF       0x7,0x6        	bsf		PORTC,6                                                                    C:\Sofia\Programa PIC.asm
00010f   1387     BCF       0x7,0x7        	bcf		PORTC,7                                                                    C:\Sofia\Programa PIC.asm
000110   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           ;Rutinas de espera                                                               C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Espera                                                                           C:\Sofia\Programa PIC.asm
000111   2150     CALL      0x150          	call	banco1                                                                     C:\Sofia\Programa PIC.asm
000112   30ff     MOVLW     0xff           	movlw	0xFF                                                                      C:\Sofia\Programa PIC.asm
000113   0092     MOVWF     0x12           	movwf	PR2				;Escribimos 255 en PR2 para que TMR2 incremente hasta 255          C:\Sofia\Programa PIC.asm
000114   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000115   0191     CLRF      0x11           	clrf	TMR2			;Pongo en 0 el registro del timer 2                                 C:\Sofia\Programa PIC.asm
000116   307b     MOVLW     0x7b           	movlw	b'01111011'		;Configuramos prescaler y postscaler 1:16                    C:\Sofia\Programa PIC.asm
000117   0092     MOVWF     0x12           	movwf	T2CON                                                                     C:\Sofia\Programa PIC.asm
000118   1512     BSF       0x12,0x2       	bsf		T2CON,2			;Encendemos el Timer 2                                           C:\Sofia\Programa PIC.asm
000119   2127     CALL      0x127          	call	Test			;Testeo si terminó la espera                                        C:\Sofia\Programa PIC.asm
00011a   03a4     DECF      0x24,0x1       	decf	Aux,1			;Decremento Aux                                                    C:\Sofia\Programa PIC.asm
00011b   1d03     BTFSS     0x3,0x2        	btfss	STATUS,2		;Me fijo si Aux llegó a 0                                       C:\Sofia\Programa PIC.asm
00011c   2911     GOTO      0x111          	goto	Espera			;Si no llegò a 0 vuelvo a esperar                                 C:\Sofia\Programa PIC.asm
00011d   0008     RETURN                   	return					;Si llegó a 0 regreso                                                C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           EsperaPaP                                                                        C:\Sofia\Programa PIC.asm
00011e   2150     CALL      0x150          	call	banco1                                                                     C:\Sofia\Programa PIC.asm
00011f   30c8     MOVLW     0xc8           	movlw	b'11001000'		;El período típico de conmutación del L298 son 40us          C:\Sofia\Programa PIC.asm
000120   0092     MOVWF     0x12           	movwf	PR2				;Escribimos 200 en PR2 para que TMR2 incremente hasta 200          C:\Sofia\Programa PIC.asm
000121   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000122   0191     CLRF      0x11           	clrf	TMR2			;Pongo en 0 el registro del timer 2                                 C:\Sofia\Programa PIC.asm
000123   0192     CLRF      0x12           	clrf	T2CON			;Configuramos prescaler y postscaler 1:1                           C:\Sofia\Programa PIC.asm
000124   1512     BSF       0x12,0x2       	bsf		T2CON,2			;Encendemos el Timer 2                                           C:\Sofia\Programa PIC.asm
000125   2127     CALL      0x127          	call	Test			;Testeo si terminó la espera                                        C:\Sofia\Programa PIC.asm
000126   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           Test                                                                             C:\Sofia\Programa PIC.asm
000127   1c8c     BTFSS     0xc,0x1        	btfss	PIR1,1			;Terminó la espera?                                              C:\Sofia\Programa PIC.asm
000128   2927     GOTO      0x127          	goto 	Test			;Si no terminó sigo esperando                                      C:\Sofia\Programa PIC.asm
000129   108c     BCF       0xc,0x1        	bcf		PIR1,1			;Si terminó, limpio el flag                                       C:\Sofia\Programa PIC.asm
00012a   1112     BCF       0x12,0x2       	bcf		T2CON,2			;Apago el timer 2                                                C:\Sofia\Programa PIC.asm
00012b   0008     RETURN                   	return					;y regreso                                                           C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           SubrutinaObstDer                                                                 C:\Sofia\Programa PIC.asm
00012c   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
00012d   1223     BCF       0x23,0x4       	bcf		TipoInt,4		;Limpio el flag de TipoInt                                      C:\Sofia\Programa PIC.asm
00012e   1486     BSF       0x6,0x1        	bsf		PORTB,1			;Envío Reset al flip-flop                                        C:\Sofia\Programa PIC.asm
00012f   1608     BSF       0x8,0x4        	bsf		PORTD,4			;Notifico a la placa que se detectó un obstáculo del lado derecho C:\Sofia\Programa PIC.asm
000130   2140     CALL      0x140          	call	EsperaNotific	;Ejecuto rutina de espera para que la placa lea el dato      C:\Sofia\Programa PIC.asm
000131   1208     BCF       0x8,0x4        	bcf		PORTD,4			;Limpio el bit RD4                                               C:\Sofia\Programa PIC.asm
000132   2825     GOTO      0x25           	goto	Main                                                                       C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           SubrutinaObstIzq                                                                 C:\Sofia\Programa PIC.asm
000133   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000134   12a3     BCF       0x23,0x5       	bcf		TipoInt,5		;Limpio el flag de TipoInt                                      C:\Sofia\Programa PIC.asm
000135   1506     BSF       0x6,0x2        	bsf		PORTB,2			;Envío Reset al flip-flop                                        C:\Sofia\Programa PIC.asm
000136   1688     BSF       0x8,0x5        	bsf		PORTD,5			;Notifico a la placa que se detectó un obstáculo del lado izquierdo C:\Sofia\Programa PIC.asm
000137   2140     CALL      0x140          	call	EsperaNotific	;Ejecuto rutina de espera para que la placa lea el dato      C:\Sofia\Programa PIC.asm
000138   1288     BCF       0x8,0x5        	bcf		PORTD,5			;Limpio el bit RD5                                               C:\Sofia\Programa PIC.asm
000139   2825     GOTO      0x25           	goto	Main                                                                       C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           SubrutinaSonido                                                                  C:\Sofia\Programa PIC.asm
00013a   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
00013b   1323     BCF       0x23,0x6       	bcf		TipoInt,6		;Limpio el flag de TipoInt                                      C:\Sofia\Programa PIC.asm
00013c   1708     BSF       0x8,0x6        	bsf		PORTD,6			;Notifico a la placa que se detectó un sonido                    C:\Sofia\Programa PIC.asm
00013d   2140     CALL      0x140          	call	EsperaNotific	;Ejecuto rutina de espera para que la placa lea el dato      C:\Sofia\Programa PIC.asm
00013e   1308     BCF       0x8,0x6        	bcf		PORTD,6			;Limpio el bit RD6                                               C:\Sofia\Programa PIC.asm
00013f   2825     GOTO      0x25           	goto	Main                                                                       C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           EsperaNotific				;CONFIGURAR EL TIEMPO DE ESPERA NECESARIO                       C:\Sofia\Programa PIC.asm
000140   2150     CALL      0x150          	call	banco1                                                                     C:\Sofia\Programa PIC.asm
000141   30ff     MOVLW     0xff           	movlw	0xFF                                                                      C:\Sofia\Programa PIC.asm
000142   0092     MOVWF     0x12           	movwf	PR2				;Escribimos 255 en PR2 para que TMR2 incremente hasta 255          C:\Sofia\Programa PIC.asm
000143   214d     CALL      0x14d          	call	banco0                                                                     C:\Sofia\Programa PIC.asm
000144   0191     CLRF      0x11           	clrf	TMR2			;Pongo en 0 el registro del timer 2                                 C:\Sofia\Programa PIC.asm
000145   307b     MOVLW     0x7b           	movlw	b'01111011'		;Configuramos prescaler y postscaler 1:16                    C:\Sofia\Programa PIC.asm
000146   0092     MOVWF     0x12           	movwf	T2CON                                                                     C:\Sofia\Programa PIC.asm
000147   1512     BSF       0x12,0x2       	bsf		T2CON,2			;Encendemos el Timer 2                                           C:\Sofia\Programa PIC.asm
000148   2127     CALL      0x127          	call	Test			;Testeo si terminó la espera                                        C:\Sofia\Programa PIC.asm
000149   03a4     DECF      0x24,0x1       	decf	Aux,1			;Decremento la variable Aux                                        C:\Sofia\Programa PIC.asm
00014a   1d03     BTFSS     0x3,0x2        	btfss	STATUS,2		;Me fijo si llegó a cero                                        C:\Sofia\Programa PIC.asm
00014b   2940     GOTO      0x140          	goto	EsperaNotific	;Si no llegó a 0 vuelvo a esperar                            C:\Sofia\Programa PIC.asm
00014c   0008     RETURN                   	return					;Si llegò a 0 regreso                                                C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           banco0                                                                           C:\Sofia\Programa PIC.asm
00014d   1303     BCF       0x3,0x6        	bcf 	STATUS,RP1                                                                 C:\Sofia\Programa PIC.asm
00014e   1283     BCF       0x3,0x5        	bcf 	STATUS,RP0                                                                 C:\Sofia\Programa PIC.asm
00014f   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           banco1                                                                           C:\Sofia\Programa PIC.asm
000150   1303     BCF       0x3,0x6        	bcf 	STATUS,RP1                                                                 C:\Sofia\Programa PIC.asm
000151   1683     BSF       0x3,0x5        	bsf 	STATUS,RP0                                                                 C:\Sofia\Programa PIC.asm
000152   0008     RETURN                   	return                                                                          C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                                                                                                            C:\Sofia\Programa PIC.asm
                                           end                                                                              C:\Sofia\Programa PIC.asm
